# 배포 시나리오

## 중앙 집중식 배포

하나의 커다란 릴리즈는 단점이라고 느껴지기도하지만 한편으로는 솔루션이 되기도합니다.

이 중앙 집중식 배포의 가장 큰 이점은 앱이 함께 작동하는 하나의 유닛이라고 확신할 수 있게되는 방법이 되는데요

따라서 애플리케이션이 업데이트될 때 다루기가 쉽습니다.

또한 마이크로프론트엔드에 대해서 중앙 집중적인 배포를 사용하는 것의 가장 큰 이점은

이미 만들어진 마이크로프론트엔드와 합칠 수 있다는 것입니다.

이것을 통해서 최적화와 강화를 할 수 있습니다.

이러한 솔루션을 구현하기 위해 다음 두가지를 중점적으로 생각할 수 있는데요

1. 모노레포를 사용해서 구축하기

2. 여러개의 레포를 결합시키기

전자가 조금 더 세팅하기는 쉽지만 후자가 대부분의 사용자가 의도하는 것에 가깝습니다.


여러 저장소를 결합하는 경우는 모노레포의 유지에 리소스가 들지 않으면ㅁ서

다수의 결과를 배포할 수 있는 가장 좋은 솔루션입니다.

개발과 유지의 독립성을 확보할 수 있지만 CI파이프라인을 이용하여 단일 솔루션도 여전히 구축할 수 있습니다.


## 분산 배포

중앙 집중식 배포는 결국 결론적으로 마지막에 완전히 분산된 배포시스템을 하나로 합쳐주는 시나리오가 존재해야합니다.

반면 분산 배포의 가장 큰 장점은 개별적인 마이크로프론트엔드의 독립성에 있으며

각 팀은 그들의 산출물을 온전히 책임집니다. 그리고 이 전략 역시 모노레포를 통해서도 구현할 수 있습니다.

이부분이 헷갈리기 쉬운데 모노레포를 사용한다고 해서 분산배포다 / 중앙배포다 라고 정의할 수 없다는 것입니다.

## 하이브리드 솔루션

마이크로프론트엔드의 도입 이유는 개발팀의 규모변경성을 높이기 위함일 때가 많습니다.

따라서 분산배포로 가는게 자연스러워보이며 규모변경에 유리한 전략입니다

그러나 그럼에도 불구하고 단일 저장소에 배포되어야하는 집합적인 마이크로프론트엔드가 존재할 수 있죠

이러한 경우에는 두 방식의 장점만 취하는 하이브리드 솔루션을 생각할 수 있습니다.

이론적으로 생각해보면 모노레포는 일반 저장소와 결합할 수 있고 중앙 집중적인 배포는 독립적인 배포와 합칠 수 있습니다.

이러한 개념을 생각해보면 예약된 릴리스에 대한 기회도 생각해볼 수 있습니다.

예컨대 릴리스될 날짜를 매주 월요일 아침이라든지 아니면 특정한 날짜로 정해두고 

그 날짜에 설정해둔 ci 파이프라인이 돌아가게 만드는 것이죠


<br/>

또 다른 발상으로는 변경사항이 있을때 파이프라인을 작동시키는 방법도 사용해볼 수 있을것입니다.

이렇듯 마이크로프론트엔드를 구성할때에는 CI/CD 파이프라인도 잘 고려해주는게

전체팀의 개발생산성 향상에 큰 영향을 끼칠것입니다.